<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–∏—Å –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/ai_assistant.css">
    <link rel="stylesheet" href="/css/training.css">
</head>
<body>
    <%- include('blocks/header') -%>
    
    <main>
        <div class="booking-container">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div class="page-header">
                <h1>–ó–∞–ø–∏—Å –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h1>
                <p>–û–±–µ—Ä—ñ—Ç—å –∑—Ä—É—á–Ω–∏–π —á–∞—Å —Ç–∞ —Ç–∏–ø —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</p>
            </div>

            <!-- –§—ñ–ª—å—Ç—Ä–∏ -->
            <div class="filters-section">
                <h2>üîç –§—ñ–ª—å—Ç—Ä–∏</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="dateFilter">–î–∞—Ç–∞:</label>
                        <input type="date" id="dateFilter" min="" max="">
                    </div>
                    <div class="filter-group">
                        <label for="typeFilter">–¢–∏–ø —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:</label>
                        <select id="typeFilter">
                            <option value="">–í—Å—ñ –≤–∏–¥–∏</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="trainerFilter">–¢—Ä–µ–Ω–µ—Ä:</label>
                        <select id="trainerFilter">
                            <option value="">–í—Å—ñ —Ç—Ä–µ–Ω–µ—Ä–∏</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="timeFilter">–ß–∞—Å:</label>
                        <select id="timeFilter">
                            <option value="">–ë—É–¥—å-—è–∫–∏–π —á–∞—Å</option>
                            <option value="morning">–†–∞–Ω–æ–∫ (6:00-12:00)</option>
                            <option value="afternoon">–î–µ–Ω—å (12:00-18:00)</option>
                            <option value="evening">–í–µ—á—ñ—Ä (18:00-22:00)</option>
                        </select>
                    </div>
                </div>
                <button class="apply-filters-btn" onclick="applyFilters()">–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏</button>
            </div>

            <!-- –†–æ–∑–∫–ª–∞–¥ -->
            <div class="schedule-section">
                <div class="section-header">
                    <h2>üìÖ –î–æ—Å—Ç—É–ø–Ω—ñ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h2>
                    <div class="view-controls">
                        <button class="view-btn active" onclick="setView('day')">–î–µ–Ω—å</button>
                        <button class="view-btn" onclick="setView('week')">–¢–∏–∂–¥–µ–Ω—å</button>
                    </div>
                </div>

                <div id="loadingSchedule" class="loading">
                    –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É...
                </div>

                <div id="scheduleContent" style="display: none;">
                    <!-- –î–µ–Ω—å-–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è -->
                    <div class="date-navigation">
                        <button class="nav-btn" onclick="changeDate(-1)">‚Üê</button>
                        <span id="currentDateDisplay">–°—å–æ–≥–æ–¥–Ω—ñ</span>
                        <button class="nav-btn" onclick="changeDate(1)">‚Üí</button>
                    </div>

                    <!-- –°—ñ—Ç–∫–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω—å -->
                    <div class="training-grid" id="trainingGrid">
                        <!-- –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
                    </div>
                </div>
            </div>

            <!-- –ú–æ—ó –∑–∞–ø–∏—Å–∏ -->
            <div class="my-bookings-section">
                <h2>üìã –ú–æ—ó –∑–∞–ø–∏—Å–∏</h2>
                <div id="myBookings" class="bookings-list">
                    <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è -->
        <div id="bookingModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É</h2>
                    <span class="close" onclick="closeModal()">&times;</span>
                </div>

                <div class="booking-details">
                    <div class="detail-row">
                        <span class="label">–ù–∞–∑–≤–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:</span>
                        <span id="modalTrainingType" class="value">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">–¢—Ä–µ–Ω–µ—Ä:</span>
                        <span id="modalTrainer" class="value">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">–î–∞—Ç–∞ —Ç–∞ —á–∞—Å:</span>
                        <span id="modalDateTime" class="value">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</span>
                        <span id="modalDuration" class="value">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">–í–∞—Ä—Ç—ñ—Å—Ç—å:</span>
                        <span id="modalPrice" class="value">-</span>
                    </div>
                </div>

                <form id="bookingForm">
                    <div class="form-group">
                        <label for="bookingNotes">–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</label>
                        <textarea id="bookingNotes" name="notes" rows="3" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –≤–∞—à—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è –∞–±–æ –æ—Å–æ–±–ª–∏–≤—ñ –≤–∏–º–æ–≥–∏..."></textarea>
                    </div>

                    <div class="modal-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                        <button type="submit" class="btn btn-primary">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–ø–∏—Å</button>
                    </div>
                </form>

                <div class="success-message" id="bookingSuccess" style="display: none;">
                    ‚úÖ –ó–∞–ø–∏—Å —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è -->
        <div id="cancelModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚ùå –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É</h2>
                    <span class="close" onclick="closeCancelModal()">&times;</span>
                </div>

                <div class="cancel-warning">
                    <p>–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Å?</p>
                    <div id="cancelBookingDetails" class="booking-details">
                        <!-- –î–µ—Ç–∞–ª—ñ –∑–∞–ø–∏—Å—É -->
                    </div>
                    <p class="warning-text">‚ö†Ô∏è –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –º–æ–∂–ª–∏–≤–µ –ª–∏—à–µ –±—ñ–ª—å—à–µ –Ω—ñ–∂ –∑–∞ 2 –≥–æ–¥–∏–Ω–∏ –¥–æ –ø–æ—á–∞—Ç–∫—É.</p>
                </div>

                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeCancelModal()">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="btn btn-danger" onclick="confirmCancel()">–°–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Å</button>
                </div>
            </div>
        </div>
    </main>

    <%- include('blocks/footer') -%>
    <%- include('blocks/ai_assistant') -%>

    <script src="/js/training.js"></script>
</body>
</html>