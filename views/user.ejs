<!DOCTYPE html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/ai_assistant.css">
    <link rel="stylesheet" href="css/user.css">
</head>
<body>
    <%- include('blocks/header') -%>
    
    <main>
        <div class="account-container">
            <div id="loadingMessage" class="loading">
                –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...
            </div>
            
            <div id="errorMessage" class="error-message" style="display: none;">
                –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            </div>

            <div id="userContent" style="display: none;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—Ñ—ñ–ª—é -->
                <div class="profile-header">
                    <div class="profile-photo">
                        <img id="profileImage" src="images/male.svg" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é">
                    </div>
                    <div class="profile-info">
                        <h1 id="fullName">–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>
                        <div class="info-row">
                            <span class="info-label">ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</span>
                            <span id="userId" class="info-value">-</span>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="profile-stats">
                    <div class="stat-card">
                        <h3 id="visitCount">1</h3>
                        <p>–í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å —Ü—å–æ–≥–æ –º—ñ—Å—è—Ü—è</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="memberSince">2023</h3>
                        <p>–ß–ª–µ–Ω –∫–ª—É–±—É –∑</p>
                    </div>
                </div>

                <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="content-grid">
                    <div class="info-card">
                        <h2>üìã –û—Å–æ–±–∏—Å—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
                        <div class="info-row">
                            <span class="info-label">–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</span>
                            <span id="username" class="info-value">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–°—Ç–∞—Ç—å:</span>
                            <span id="gender" class="info-value">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Email:</span>
                            <span id="email" class="info-value">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                            <span id="phone" class="info-value">-</span>
                        </div>
                    </div>

                    <div class="membership-card">
                        <h2>üèÉ‚Äç‚ôÇÔ∏è –ß–ª–µ–Ω—Å—Ç–≤–æ</h2>
                        <div class="info-row">
                            <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                            <span id="membershipStatus" class="membership-status status-active">–ê–∫—Ç–∏–≤–Ω–µ</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–¢–∏–ø —á–ª–µ–Ω—Å—Ç–≤–∞:</span>
                            <span id="membershipType" class="info-value">–ü—Ä–µ–º—ñ—É–º</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–î—ñ–π—Å–Ω–µ –¥–æ:</span>
                            <span id="membershipExpiry" class="info-value">31.12.2024</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–ü—Ä–æ–≥—Ä–µ—Å –º—ñ—Å—è—Ü—è:</span>
                            <div class="progress-bar">
                                <div id="monthProgress" class="progress-fill" style="width: 65%">65%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –î—ñ—ó -->
                <div class="actions-grid">
                    <button class="action-btn" onclick="editProfile()">
                        ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
                    </button>
                    <button class="action-btn" onclick="viewSchedule()">
                        üìÖ –†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å
                    </button>
                    <button class="action-btn" onclick="bookTraining()">
                        üèãÔ∏è‚Äç‚ôÇÔ∏è –ó–∞–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
                    </button>
                    <button class="action-btn" onclick="viewHistory()">
                        üìä –Ü—Å—Ç–æ—Ä—ñ—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å
                    </button>
                    <button class="action-btn" onclick="paymentHistory()">
                        üí≥ –ü–ª–∞—Ç–µ–∂—ñ
                    </button>
                    <button class="action-btn secondary" onclick="logout()">
                        üö™ –í–∏–π—Ç–∏
                    </button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</h2>
                    <span class="close">&times;</span>
                </div>

                <div class="success-message" id="successMessage">
                    –ü—Ä–æ—Ñ—ñ–ª—å —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!
                </div>

                <form id="editForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editFirstName">–Ü–º'—è:</label>
                            <input type="text" id="editFirstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="editLastName">–ü—Ä—ñ–∑–≤–∏—â–µ:</label>
                            <input type="text" id="editLastName" name="lastName" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editUsername">–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</label>
                            <input type="text" id="editUsername" name="username" required>
                        </div>
                        <div class="form-group">
                            <label for="editGender">–°—Ç–∞—Ç—å:</label>
                            <select id="editGender" name="gender" required>
                                <option value="male">–ß–æ–ª–æ–≤—ñ–∫</option>
                                <option value="female">–ñ—ñ–Ω–∫–∞</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editEmail">Email:</label>
                            <input type="email" id="editEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="editPhone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                            <input type="tel" id="editPhone" name="phone" placeholder="+38 (0XX) XXX-XX-XX">
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                        <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <%- include('blocks/footer') -%>
    <%- include('blocks/ai_assistant') -%>

    <script src="js/user.js"></script>
</body>
</html>